webpackJsonp([1],{206:function(t,o,e){var a=e(207);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(3)("e8508c98",a,!1)},207:function(t,o,e){o=t.exports=e(2)(void 0),o.push([t.i,"\n.matrix-room__menu {\n  display: none;\n}\n.matrix-room__logging-in,\n.play-list-manager__enable-matrix {\n  width: 100%;\n  text-align: center;\n  padding: 0 0.45rem;\n  margin-top: 3.15rem;\n  color: #EFF1F7;\n}\n.play-list-manager__room-suggestions {\n  color: #EFF1F7;\n  margin: 0.45rem;\n  text-align: center;\n}\n.play-list-manager__room-suggestions span {\n    text-decoration: underline;\n    cursor: pointer;\n}\n",""])},208:function(t,o,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(o,"__esModule",{value:!0});var r=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},n=e(0),i=e(6),s=a(i),l=e(209),m=a(l),c=e(215),u=a(c);o.default={components:{draggable:s.default,MatrixCreateRoom:m.default,MatrixPublicRooms:u.default},data:function(){return{showConfirmDelte:!1}},created:function(){this.matrixEnabled&&this.initMatrix()},methods:r({},(0,n.mapMutations)(["setMatrixEnabled","selectMediaSource","movematrixRoomsOrdered","setShowMediumSettings","toggleMatrixRoomModal","toggleMatrixRoomDirectory","error"]),(0,n.mapActions)(["joinMatrixRoom","leaveMatrixRoom","matrixSend","initMatrix"]),{addMatrixRoom:function(){var t=document.querySelector(".matrix-room input");/#[\w-]+:[\w-]+\.\w{2,}/.test(t.value)?this.joinMatrixRoom({id:t.value}):this.toggleMatrixRoomModal(t.value||!0),t.value=""},dropAdd:function(t,o){var e=t.item.dataset.id;this.matrixSend({roomId:o,itemId:e})},numWatched:function(t){return t in this.matrixRooms?(this.matrixRooms[t].archive?this.matrixRooms[t].archive.length:0)+Object.keys(this.matrixRooms[t].playedMedia).length:0}}),computed:r({},(0,n.mapState)(["matrixEnabled","matrixRooms","currentMatrixRoom","matrixRoomsOrdered","matrixRooms","matrixLoggedIn"]),{_matrixRoomsOrdered:{get:function(){return this.matrixRoomsOrdered},set:function(t){this.moveRoomsOrdered(t)}}})}},209:function(t,o,e){function a(t){r||e(210)}var r=!1,n=e(1)(e(212),e(214),a,null,null);n.options.__file="/home/select/Dev/audius/src/components/matrix-create-room.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] matrix-create-room.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},210:function(t,o,e){var a=e(211);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(3)("e406e58a",a,!1)},211:function(t,o,e){o=t.exports=e(2)(void 0),o.push([t.i,"\n.matrix-create input {\n  width: 100%;\n  margin-bottom: 0.45rem;\n}\n",""])},212:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},r=e(0),n=e(213);o.default={data:function(){return{roomName:""}},created:function(){var t=this;this.$store.watch(function(t){return t.createMatrixRoomModal},function(){"string"==typeof t.createMatrixRoomModal&&(t.roomName=t.createMatrixRoomModal)})},methods:a({},(0,r.mapActions)(["createMatrixRoom"]),(0,r.mapMutations)(["toggleMatrixRoomModal"]),{close:function(){this.toggleMatrixRoomModal(!1)},_createMatrixRoom:function(){var t=this.$el.querySelector("#hidden-room-m").checked?"privat":"public";this.createMatrixRoom({room_alias_name:this.slugName,visibility:t,name:this.roomName+" [Audius]",topic:"Join this room at https://audius.rockdapus.org?import=#"+this.slugName+":matrix.org&type=room&title="+encodeURIComponent(this.roomName)})}}),computed:a({},(0,r.mapState)(["createMatrixRoomModal"]),(0,r.mapGetters)(["tagNames"]),{slugName:function(){return this.roomName.length<5?"…":(0,n.slugify)(this.roomName).slice(0,20).replace(/-$/,"")+"-audius"}})}},213:function(t,o,e){"use strict";function a(t){t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var o="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",e="aaaaaeeeeeiiiiooooouuuunc------",a=0,r=o.length;a<r;a++)t=t.replace(new RegExp(o.charAt(a),"g"),e.charAt(a));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}Object.defineProperty(o,"__esModule",{value:!0}),o.slugify=a},214:function(t,o,e){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.createMatrixRoomModal?e("div",{staticClass:"modal matrix-create",on:{click:t.close}},[e("div",{staticClass:"modal__body",on:{click:function(t){t.stopPropagation()}}},[e("h3",[t._v("Create matrix room")]),t._v(" "),e("p"),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.roomName,expression:"roomName"}],staticClass:"input--border",attrs:{type:"text",placeholder:"Room name"},domProps:{value:t.roomName},on:{input:function(o){o.target.composing||(t.roomName=o.target.value)}}})]),t._v(" "),e("div",{staticClass:"spacer"}),t._v("\n\t\t\t#"+t._s(t.slugName)+":matrix.org\n\t\t"),e("p"),t._v(" "),e("p"),t._m(0),t._v(" "),e("p"),t._v(" "),e("div",{staticClass:"modal__btn-group"},[e("button",{staticClass:"button",on:{click:t.close}},[t._v("Cancel")]),t._v(" "),e("button",{staticClass:"button btn--blue",attrs:{disabled:t.roomName.length<5,title:t.roomName.length<5?"The room name must be at least 5 characters long":""},on:{click:t._createMatrixRoom}},[t._v("create")])])])]):t._e()},staticRenderFns:[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("input",{attrs:{type:"checkbox",id:"hidden-room-m"}}),e("label",{attrs:{for:"hidden-room-m"}}),t._v("\n\t\t\t\tHidden\n\t\t\t\t"),e("span",{staticClass:"smaller"},[t._v("Not publicly listed")])])}]},t.exports.render._withStripped=!0},215:function(t,o,e){function a(t){r||e(216)}var r=!1,n=e(1)(e(218),e(219),a,null,null);n.options.__file="/home/select/Dev/audius/src/components/matrix-public-rooms.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] matrix-public-rooms.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},216:function(t,o,e){var a=e(217);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(3)("34d47732",a,!1)},217:function(t,o,e){o=t.exports=e(2)(void 0),o.push([t.i,"\n.matrix-create input {\n  width: 100%;\n  margin-bottom: 0.45rem;\n}\n.matrix-public-rooms__buttons {\n  display: flex;\n  flex-wrap: wrap;\n}\n.matrix-public-rooms__buttons > * {\n    margin: 0 0.45rem 0.45rem 0;\n}\n",""])},218:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},r=e(0);o.default={methods:a({},(0,r.mapActions)(["updatePublicRooms"]),(0,r.mapMutations)(["toggleMatrixRoomDirectory"]),{close:function(){this.toggleMatrixRoomDirectory(!1)}}),computed:a({},(0,r.mapState)(["showMatrixRoomDirectory","matrix"]))}},219:function(t,o,e){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.showMatrixRoomDirectory?e("div",{staticClass:"modal matrix-public-rooms",on:{click:t.close}},[e("div",{staticClass:"modal__body",on:{click:function(t){t.stopPropagation()}}},[e("h3",[t._v("Public rooms")]),t._v(" "),t.matrix.publicRooms&&t.matrix.publicRooms.length?t._e():e("div",{staticClass:"about-player__community-btns"},[e("a",{staticClass:"button btn--blue",attrs:{href:"?import=!zKinTrtpQEyHfnIbnI:matrix.org&type=room&title=Random"}},[t._v("Random")]),t._v(" "),e("a",{staticClass:"button btn--blue",attrs:{href:"?import=!VTIhlnDdHsxZFZQNFh:matrix.org&type=room&title=Rock"}},[t._v("Rock")]),t._v(" "),e("a",{staticClass:"button btn--blue",attrs:{href:"?import=!sgKmJzakMmEdSCgKCE:matrix.org&type=room&title=Electronic"}},[t._v("Electronic")])]),t._v(" "),e("div",{staticClass:"matrix-public-rooms__buttons"},t._l(t.matrix.publicRooms,function(o){return e("a",{staticClass:"button btn--blue",attrs:{title:"["+o.numberOfMembers+" Members] "+o.topic,href:"?import="+o.id+"&type=room&title="+encodeURIComponent(o.name)}},[t._v("\n\t\t\t\t"+t._s(o.name)+"\n\t\t\t")])})),t._v(" "),e("div",{staticClass:"modal__btn-group"},[e("button",{staticClass:"button",on:{click:t.close}},[t._v("Cancel")]),t._v(" "),e("button",{staticClass:"button btn--blue-ghost",on:{click:t.updatePublicRooms}},[t._v("update room list")])])])]):t._e()},staticRenderFns:[]},t.exports.render._withStripped=!0},220:function(t,o,e){t.exports={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"matrix-room play-list-manager__wrapper"},[t.matrixEnabled&&!t.matrixLoggedIn?e("div",{staticClass:"matrix-room__logging-in"},[t._v("\n\t\t  … connecting to matrix\n\t")]):t._e(),t._v(" "),t.matrixEnabled?t._e():e("div",{staticClass:"play-list-manager__enable-matrix"},[e("a",{attrs:{href:"https://matrix.org/",target:"_blank"}},[t._v("Matrix")]),t._v(" is a chat network that allows you to share music and videos with your friends. Press the button to create a guest user and join Matrix.\n\t\t"),e("br"),t._v(" "),e("br"),t._v(" "),e("button",{staticClass:"button btn--blue",attrs:{type:"button"},on:{click:function(o){t.setMatrixEnabled(),t.initMatrix()}}},[t._v("Enable Matrix")])]),t._v(" "),t.matrixLoggedIn&&!t.matrixRoomsOrdered.length?e("div",{staticClass:"play-list-manager__room-suggestions"},[t._v("\n\t\tYou did not join any rooms yet!\n\t\t"),e("br"),t._v("\n\t\tOpen the "),e("span",{on:{click:function(o){t.toggleMatrixRoomDirectory()}}},[t._v("room directory")]),t._v(" or\n\t\t"),e("br"),t._v("\n\t\tcreate your own room.\n\t")]):t._e(),t._v(" "),e("matrix-create-room"),t._v(" "),e("matrix-public-rooms"),t._v(" "),e("draggable",{staticClass:"matrix-room__tags",attrs:{element:"ul",options:{animation:150,scrollSpeed:20,handle:".play-list-manager__drag-handle"}},model:{value:t._matrixRoomsOrdered,callback:function(o){t._matrixRoomsOrdered=o},expression:"_matrixRoomsOrdered"}},t._l(t._matrixRoomsOrdered,function(o){return e("draggable",{key:o,staticClass:"play-list-manager__tag-drop-zone",class:{active:t.currentMatrixRoom==o},attrs:{element:"li",options:{sort:!1,handle:".no-handle",group:{name:"lists"}}},on:{add:function(e){t.dropAdd(e,o)}}},[e("div",{staticClass:"play-list-manager__drag-handle"}),t._v(" "),e("div",{staticClass:"play-list-manager__tag-body",on:{click:function(e){t.selectMediaSource({type:"radio",id:o})}}},[e("div",[t._v("\n\t\t\t\t\t"+t._s(t.matrixRooms[o].name)+"\n\t\t\t\t")]),t._v(" "),e("div",[t._v("\n\t\t\t\t\t"+t._s(t.matrixRooms[o].playList.length-Object.keys(t.matrixRooms[o].playedMedia).length)+" New\n\t\t\t\t\t"+t._s(t.numWatched(o))+" Watched\n\t\t\t\t")])]),t._v(" "),e("div",{staticClass:"play-list-manager__menu"},[e("span",{staticClass:"wmp-icon-mode_edit",attrs:{title:"Edit room"},on:{click:function(e){e.stopPropagation(),t.setShowMediumSettings({medium:"matrix",id:o})}}}),t._v(" "),e("span",{staticClass:"wmp-icon-close",attrs:{title:"Leave room"},on:{click:function(e){t.showConfirmDelte=o}}})])])})),t._v(" "),e("ul",{staticClass:"matrix-room__tags"},[t.matrixLoggedIn?e("li",{staticClass:"play-list-manager__input"},[e("input",{attrs:{type:"text",placeholder:"… room id or name"},on:{keyup:function(o){if(!("button"in o)&&t._k(o.keyCode,"enter",13))return null;t.addMatrixRoom(o)}}}),t._v(" "),e("span",{staticClass:"wmp-icon-add",attrs:{title:"Create / join room"},on:{click:t.addMatrixRoom}}),t._v(" "),e("span",{staticClass:"wmp-icon-format_list_bulleted",attrs:{title:"Room directory"},on:{click:function(o){t.toggleMatrixRoomDirectory()}}})]):t._e()]),t._v(" "),t.showConfirmDelte?e("div",{staticClass:"modal",on:{click:function(o){t.showConfirmDelte=!1}}},[e("div",{staticClass:"modal__body",on:{click:function(t){t.stopPropagation()}}},[t._v("\n\t\t\tAre you sure you want to leave the room?\n\t\t\t"),e("div",{staticClass:"modal__btn-group"},[e("button",{staticClass:"button",on:{click:function(o){t.showConfirmDelte=!1}}},[t._v("Cancel")]),t._v(" "),e("button",{staticClass:"button btn btn--blue",on:{click:function(o){o.stopPropagation(),t.leaveMatrixRoom(t.showConfirmDelte),t.showConfirmDelte=!1}}},[t._v("Leave")])])])]):t._e()],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},26:function(t,o,e){function a(t){r||e(206)}var r=!1,n=e(1)(e(208),e(220),a,null,null);n.options.__file="/home/select/Dev/audius/src/components/matrix-room-manager.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] matrix-room-manager.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports}});